export default class t extends HTMLElement{connectedCallback(){setTimeout((()=>this.svg()))}svg(t=this.attachShadow({mode:`open`}),e=this,r=(e.getAttribute`stroke`||`#3c3,#c33,#3cc,#cc3,#c3c,#33c`).split`,`,s=~~e.getAttribute`pull`,i=0,l=0){t.innerHTML=`<style>:host{display:inline-block}svg{width:100%}</style><svg viewBox=0,0,${1e3+s},${1e3+s}>${e.innerHTML}</svg>`;[...t.querySelectorAll`slice`].map(((t,u,a)=>{let o,b=document.createElementNS(`http://www.w3.org/2000/svg`,`g`),A=document.createElementNS(`http://www.w3.org/2000/svg`,`text`),g=t.getAttribute`size`,n=~~g.replace(`%`,``),c=~~t.getAttribute`stroke-width`||~~e.getAttribute`stroke-width`||500+s/2-s,$=i;b.$=(i=0,u=c,a=t.getAttribute(`stroke`)||0==i&&r.shift(),o=n,A=(500+s/2)/2-s/2+i-(`stroke-width`==e.getAttribute`fill`?(500-s/2-u)/2:0),g=document.createElementNS(`http://www.w3.org/2000/svg`,`path`))=>(g.setAttribute(`part`,`path`),g.setAttribute(`stroke`,a),g.setAttribute(`stroke-width`,u),g.setAttribute(`pathLength`,l),g.setAttribute(`stroke-dasharray`,o+` `+(l-o)),g.setAttribute(`d`,`m${500+s/2},${500+s/2}m0,${-A}a2,2,0,000,${2*A}a2,2,0,000-${2*A}`),g.setAttribute(`fill`,`none`),g.$=(t=0,e)=>e?b.$(e).$(t):g.getPointAtLength(g.getTotalLength()-g.getTotalLength()/l*(t+($+o/2))),g);n==g?l||[...e.querySelectorAll`slice`].map((t=>l+=~~t.getAttribute`size`)):l=~~e.getAttribute`size`||100;n||(n=l-i,g=n+`%`);o=b.$();b.$$=[[0,0],[n/-2,c/-2],[n/-2,c/2],[n/2,c/-2],[n/2,c/2],[0,c/-2],[0,c/2],[0,~~t.getAttribute`pulltext`||~~e.getAttribute`pulltext`||0],[0,Math.abs(~~t.getAttribute`pull`||s)]].map((([t,e])=>o.$(t,e)));b.setAttribute(`slice`,u);b.setAttribute(`size`,g);b.setAttribute(`size`+10*~~(n/10),g);b.setAttribute(`label`,A.innerHTML=e.querySelector`style`?t.innerHTML&&t.innerHTML.replace(`size`,g)||g:``);o.setAttribute(`stroke-dashoffset`,`top`==e.getAttribute`offset`?n-l:i+=n);[...t.attributes].map((t=>o.setAttribute(t.name,t.value)));A.setAttribute(`part`,`text`);A.setAttribute(`x`,`top`==e.getAttribute`offset`?`50%`:b.$$[7].x);A.setAttribute(`y`,`top`==e.getAttribute`offset`?`50%`:b.$$[7].y);b.append(o,A);t.replaceWith(b);t.hasAttribute`pull`&&b.setAttribute(`transform`,`translate(${b.$$[8].x-b.$$[0].x} ${b.$$[8].y-b.$$[0].y})`)}))}}